{% extends "base.html" %}

{% block content %}
<div class="row">
    <div class="col-md-6 mx-auto">
        <div class="card">
            <div class="card-header">
                <h4>‚ûï –î–æ–±–∞–≤–∏—Ç—å –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –∫–æ—Ñ–µ</h4>
            </div>
            <div class="card-body">
                <form method="POST">
                    <div class="mb-3">
                        <label for="employee_id" class="form-label">üë§ –°–æ—Ç—Ä—É–¥–Ω–∏–∫</label>
                        <select class="form-select" id="employee_id" name="employee_id" required>
                            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞...</option>
                            {% for employee in employees %}
                            <option value="{{ employee[0] }}">{{ employee[1] }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    
                    <div class="mb-3">
                        <label for="drink_id" class="form-label">‚òï –ù–∞–ø–∏—Ç–æ–∫</label>
                        <select class="form-select" id="drink_id" name="drink_id" required>
                            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –Ω–∞–ø–∏—Ç–æ–∫...</option>
                            {% for drink in drinks %}
                            <option value="{{ drink[0] }}" data-cost="{{ drink[2] }}">
                                {{ drink[1] }} ({{ "%.2f"|format(drink[2]) }} ‚ÇΩ)
                            </option>
                            {% endfor %}
                        </select>
                    </div>
                    
                    <div class="mb-3">
                        <label for="notes" class="form-label">üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</label>
                        <textarea class="form-control" id="notes" name="notes" rows="2" 
                                  placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: '–° –¥–≤–æ–π–Ω–æ–π –ø–æ—Ä—Ü–∏–µ–π', '–° –º–∏–Ω–¥–∞–ª—å–Ω—ã–º –º–æ–ª–æ–∫–æ–º'..."></textarea>
                    </div>
                    
                    <div class="d-grid gap-2">
                        <button type="submit" class="btn btn-success btn-lg">
                            ‚úÖ –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ
                        </button>
                        <a href="{{ url_for('dashboard') }}" class="btn btn-outline-secondary">
                            üìä –ü–µ—Ä–µ–π—Ç–∏ –∫ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–µ
                        </a>
                    </div>
                </form>
            </div>
        </div>
        
        <!-- –ë—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø –∫ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–º –≤–∞—Ä–∏–∞–Ω—Ç–∞–º -->
        <div class="card mt-4">
            <div class="card-header">
                <h6>‚ö° –ë—ã—Å—Ç—Ä—ã–π –≤—ã–±–æ—Ä</h6>
            </div>
            <div class="card-body">
                <div class="d-flex flex-wrap gap-2">
                    {% for drink in drinks %}
                    <button type="button" class="btn btn-outline-primary btn-sm quick-drink" 
                            data-drink-id="{{ drink[0] }}">
                        {{ drink[1] }}
                    </button>
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>
</div>

<script>
// –°–∫—Ä–∏–ø—Ç –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –≤—ã–±–æ—Ä–∞ –Ω–∞–ø–∏—Ç–∫–æ–≤
document.addEventListener('DOMContentLoaded', function() {
    const quickDrinkButtons = document.querySelectorAll('.quick-drink');
    const drinkSelect = document.getElementById('drink_id');
    
    quickDrinkButtons.forEach(button => {
        button.addEventListener('click', function() {
            const drinkId = this.getAttribute('data-drink-id');
            drinkSelect.value = drinkId;
        });
    });
});
</script>
{% endblock %}
